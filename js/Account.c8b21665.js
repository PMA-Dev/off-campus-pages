(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Account"],{"161c":function(t,e,s){"use strict";var a=s("bcc8"),i=s.n(a);i.a},"34fd":function(t,e,s){"use strict";var a=s("c60e"),i=s.n(a);i.a},"77be":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"account"}},[s("div",{attrs:{id:"content_card"}},[t.edit?t._e():s("AccountCard"),t.edit?s("AccountCardEdit"):t._e(),s("div",{attrs:{id:"main"}},[s("h1",[t._v(t._s(t.firstName)+" "+t._s(t.lastName))]),s("span",{on:{click:t.signoutUser}},[t._v("Sign out")]),s("span",{on:{click:t.deleteUser}},[t._v("Delete User")])]),s("svg",{attrs:{id:"line"}},[s("line",{staticClass:"cls",attrs:{x1:"1.2",y1:"0",x2:"1.2",y2:"1000"}})]),s("div",{attrs:{id:"side"}})],1)])},i=[],r=s("bc3a"),o=s.n(r),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"accountcard"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],attrs:{id:"profile_card"}},[s("img",{attrs:{id:"pfp",src:"data:image/png;base64,"+t.pfp}}),s("span",[t._v(t._s(t.bio))]),s("h1",[t._v("SCHOOL NAME")]),s("h2",[t._v("POTENTIALLY MAJOR?")]),s("label",{on:{click:t.editUser}},[t._v("Edit")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],attrs:{id:"profile_card_extended"}},[s("img",{attrs:{id:"pfp",src:"data:image/png;base64,"+t.pfp}}),s("span",[t._v(t._s(t.bio))]),s("h1",[t._v("SCHOOL NAME")]),s("h2",[t._v("POTENTIALLY MAJOR?")]),s("label",{on:{click:t.editUser}},[t._v("Edit")])])])},h=[],l={data(){return{edit:!1,firstName:this.$store.get("firstName"),lastName:this.$store.get("lastName"),email:this.$store.get("email"),username:this.$store.get("username"),password:"",bio:this.$store.get("bio"),pfp:this.$store.get("pfp")}},methods:{editUser(){this.edit=!0},pullUser(){o()({method:"get",url:this.$store.get("apiUrl")+"users/profile/"+this.$store.get("username")}).then(t=>{null!=t.data.bio&&(this.$store.set("bio",t.data.bio),this.$store.get("bio")!=this.bio&&(this.bio=t.data.bio)),null!=t.data.firstName&&(this.$store.set("firstName",t.data.firstName),this.$store.get("firstName")!=this.firstName&&(this.firstName=t.data.firstName)),null!=t.data.lastName&&(this.$store.set("lastName",t.data.lastName),this.$store.get("lastName")!=this.lastName&&(this.lastName=t.data.lastName)),null!=t.data.username&&(this.$store.set("username",t.data.username),this.$store.get("username")!=this.username&&(this.username=t.data.username)),null!=t.data.imageUrl&&(this.$store.set("pfp",t.data.imageUrl),this.$store.get("pfp")!=this.pfp&&(this.pfp=t.data.imageUrl))}).catch((function(t){console.log(t)}))}},mounted(){this.pullUser()}},d=l,m=(s("161c"),s("2877")),u=Object(m["a"])(d,n,h,!1,null,"950b0778",null),c=u.exports,p={data(){return{edit:!1,firstName:this.$store.get("firstName"),lastName:this.$store.get("lastName"),email:this.$store.get("email"),username:this.$store.get("username"),password:"",bio:this.$store.get("bio"),pfp:this.$store.get("pfp")}},methods:{pullUser(){o()({method:"get",url:this.$store.get("apiUrl")+"users/profile/"+this.$store.get("username")}).then(t=>{null!=t.data.bio&&(this.$store.set("bio",t.data.bio),this.$store.get("bio")!=this.bio&&(this.bio=t.data.bio)),null!=t.data.firstName&&(this.$store.set("firstName",t.data.firstName),this.$store.get("firstName")!=this.firstName&&(this.firstName=t.data.firstName)),null!=t.data.lastName&&(this.$store.set("lastName",t.data.lastName),this.$store.get("lastName")!=this.lastName&&(this.lastName=t.data.lastName)),null!=t.data.username&&(this.$store.set("username",t.data.username),this.$store.get("username")!=this.username&&(this.username=t.data.username)),null!=t.data.imageUrl&&(this.$store.set("pfp",t.data.imageUrl),this.$store.get("pfp")!=this.pfp&&(this.pfp=t.data.imageUrl))}).catch((function(t){console.log(t)}))},deleteUser(){o()({method:"delete",url:this.$store.get("apiUrl")+"users/delete",headers:{authorization:this.$store.get("token")}}).then(t=>{this.$store.dispatch("signOut")}).catch((function(t){console.log(t)}))},updateUser(){const t={email:this.email,username:this.username,firstName:this.firstName,lastName:this.lastName,password:this.password,bio:this.bio},e=JSON.stringify(t);o()({method:"patch",url:this.$store.get("apiUrl")+"users/update",data:e,headers:{authorization:this.$store.get("token")}}).then(t=>{this.$store.set("token",t.data.encoded),this.$store.set("email",this.email),this.$store.set("username",this.username),this.$store.set("firstName",this.firstName),this.$store.set("lastName",this.lastName),this.$store.set("bio",this.bio),this.$store.set("pfp",this.pfp),this.collapseToggle()}).catch((function(t){$("#errors").text(t)}))},signoutUser(){this.$store.dispatch("signOut")},toggleEdit(){this.edit=!this.edit}},mounted(){this.pullUser()},components:{AccountCard:c}},f=p,g=(s("34fd"),Object(m["a"])(f,a,i,!1,null,"1cb5fd56",null));e["default"]=g.exports},bcc8:function(t,e,s){},c60e:function(t,e,s){}}]);
//# sourceMappingURL=Account.c8b21665.js.map