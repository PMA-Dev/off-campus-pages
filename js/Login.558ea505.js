(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{1752:function(e,r,t){e.exports=t.p+"img/mail.24207b02.svg"},1956:function(e,r,t){"use strict";var s=t("3a6a"),o=t.n(s);o.a},"3a6a":function(e,r,t){},"3c1a":function(e,r,t){e.exports=t.p+"img/lock.85d72c9e.svg"},6024:function(e,r,t){e.exports=t.p+"img/password_open.be0c7af4.svg"},"9b19":function(e,r,t){e.exports=t.p+"img/logo.e639c1df.svg"},a55b:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{attrs:{id:"site"}},[s("div",{attrs:{id:"login_container"}},[s("router-link",{attrs:{id:"home",to:"/"}},[s("img",{attrs:{src:t("9b19"),id:"logo"}})]),s("div",{attrs:{id:"login_form"}},[s("div",{attrs:{id:"login_fields"}},[s("label",{attrs:{for:"login_email"}},[e._v("Email:")]),s("div",{staticClass:"formfield"},[s("img",{attrs:{id:"login_email_icon",src:t("1752")}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"login_email",type:"email",required:""},domProps:{value:e.username},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.loginRequest(r)},input:function(r){r.target.composing||(e.username=r.target.value)}}})]),s("label",{attrs:{for:"login_password"}},[e._v("Password:")]),s("div",{staticClass:"formfield"},[s("img",{attrs:{id:"login_password_icon",src:t("3c1a")}}),s("img",{attrs:{id:"login_eye_icon",src:t("6024")},on:{click:e.togglePassword},model:{value:e.passwordShow,callback:function(r){e.passwordShow=r},expression:"passwordShow"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"login_password",type:"password",required:"",keyup:e.loginRequest},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}})])]),s("span",{attrs:{id:"login_error"}}),s("div",{attrs:{id:"login_extras"}},[s("div",{attrs:{id:"rememberme"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberMe,expression:"rememberMe"}],attrs:{id:"check",type:"checkbox"},domProps:{checked:Array.isArray(e.rememberMe)?e._i(e.rememberMe,null)>-1:e.rememberMe},on:{change:function(r){var t=e.rememberMe,s=r.target,o=!!s.checked;if(Array.isArray(t)){var i=null,a=e._i(t,i);s.checked?a<0&&(e.rememberMe=t.concat([i])):a>-1&&(e.rememberMe=t.slice(0,a).concat(t.slice(a+1)))}else e.rememberMe=o}}}),s("label",{on:{click:e.toggleRemember}},[e._v("Remember Me")])]),s("label",{attrs:{id:"login_forgot"}},[e._v("I forgot my password!")])]),s("input",{attrs:{id:"login_submit",type:"submit",value:"Log in"},on:{click:function(r){return r.preventDefault(),e.loginRequest(r)}}})])],1)])},o=[],i=t("bc3a"),a=t.n(i),n=t("04e1"),l=t.n(n),d={name:"Login",data(){return{passwordShow:!1,rememberMe:!1,username:"",password:""}},methods:{toggleRemember(){this.rememberMe?this.rememberMe=!1:this.rememberMe=!0},togglePassword(){this.passwordShow?($("#login_password").attr("type","password"),this.passwordShow=!1):($("#login_password").attr("type","text"),this.passwordShow=!0)},valid(){if(""==this.username)return $("#login_error").text("Error: please enter your email."),!1;if($("#login_email").prop("validity").valid){if(!(this.password.length<10))return!0;$("#login_error").text("Error: passwords must be at least 10 characters long.")}else $("#login_error").text("Error: please enter a valid email.")},loginRequest(){if(this.valid()){this.$store.set("staySignedIn",this.rememberMe);var e='{"username":"'+this.username+'","password":"'+this.password+'"}';a()({method:"post",url:this.$store.get("apiUrl")+"users/login",data:e,headers:{}}).then(e=>{let r=e.data.encoded;this.$store.set("token",r),this.$store.set("username",e.data.username);let t=l()(r);console.log(t),this.$store.set("email",t.data),this.$router.push("home")}).catch((function(e){$("#login_submit").removeAttr("disabled"),console.log(e),$("#login_error").text("Error: "+e.response.data.detail)}))}}},components:{},mounted:function(){this.show=!1}},m=d,c=(t("1956"),t("2877")),u=Object(c["a"])(m,s,o,!1,null,"0acd43c4",null);r["default"]=u.exports}}]);
//# sourceMappingURL=Login.558ea505.js.map